---
title: "City Of Gainseville"
author: "Kahlil Wehmeyer - Office of Strategic Initiatives"
date: "11/4/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
setwd("~/Documents/gainsville_exercise")
library(tidyverse); theme_set(theme_minimal())
library(knitr)
library(janitor)
library(maps)
library(sf)
```

# Introduction

# Data
The data for this exploration is based on the public _"Crime Responses"_ data set which is available [here](https://data.cityofgainesville.org/Public-Safety/Crime-Responses/gvua-xt9q). The version used in this report was last updated on November 3rd, 2020.

Additional information about districts is available [here](https://data.cityofgainesville.org/Geospatial-Maps-/Color-Coded-Gainesville-Police-Zones/qzci-z4wx)

**Note**:

Data is being prepared by an external script.

- Correcting date types
- Better variable naming
- Removing extraneous variables


```{r importing data, echo=FALSE, include=FALSE}
source('cleaning_script.r')
```

```{r initial look}
head(responses) 
summary(responses) 
```

# Initial Visualizations

```{r}
fl_counties <- map_data("county","florida") %>% 
  select(lon = long, lat, group, id = subregion)
head(fl_counties)

ggplot(fl_counties, aes(lon, lat, group = group)) +
  geom_polygon(fill = "white", color = "gray") +
  coord_quickmap()
```


```{r}
responses %>% filter(year(offense_date) > 2014) %>% 
  group_by(date = date(offense_date)) %>% 
  summarise(offenses = n()) %>% 
  
  ggplot() + 
  geom_smooth(aes(x = date, y = offenses)) +
  
  labs(title = "Offenses by Date") +
  labs(subtitle = "2015 - Present") +
  xlab("Year") +
  ylab("Number of offenses")
```





